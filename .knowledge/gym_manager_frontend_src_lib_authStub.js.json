{"is_source_file": true, "format": "JavaScript", "description": "This file provides lightweight stub authentication utilities based on localStorage, including session management, role assignments, and interaction with localStorage for a frontend application.", "external_files": [], "external_methods": [], "published": ["getRoleForEmail", "setRoleForEmail", "setCurrentSession", "getCurrentSession", "getCurrentRole", "clearAuthStorage", "ensureStubAuthInRedux"], "classes": [], "methods": [{"name": "parseJSON(raw, fallback)", "description": "Internal helper function to safely parse JSON strings.", "scope": "", "scopeKind": ""}, {"name": "getRoleForEmail(email)", "description": "Returns stored role for a given email from localStorage, or null if not set.", "scope": "", "scopeKind": ""}, {"name": "setRoleForEmail(email, role)", "description": "Persists role mapping for the given email into localStorage.", "scope": "", "scopeKind": ""}, {"name": "setCurrentSession(session)", "description": "Stores the current session object into localStorage and updates role registry.", "scope": "", "scopeKind": ""}, {"name": "getCurrentSession()", "description": "Returns the current session object from localStorage, or null if missing.", "scope": "", "scopeKind": ""}, {"name": "getCurrentRole()", "description": "Retrieves the role from the current session.", "scope": "", "scopeKind": ""}, {"name": "clearAuthStorage()", "description": "Removes the current session from localStorage, keeping role registry intact.", "scope": "", "scopeKind": ""}, {"name": "ensureStubAuthInRedux(seedFn)", "description": "Seeds Redux auth state from localStorage if a seed function is provided.", "scope": "", "scopeKind": ""}], "calls": ["JSON.parse", "localStorage.getItem", "localStorage.setItem", "localStorage.removeItem"], "search-terms": ["localStorage auth stub", "session management", "role registry", "stub auth utility", "localStorage interactions"], "state": 2, "file_id": 69, "knowledge_revision": 197, "git_revision": "", "ctags": [{"_type": "tag", "name": "LS_KEYS", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^const LS_KEYS = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "clearAuthStorage", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^export function clearAuthStorage() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^    email: String(session.email),$/", "language": "JavaScript", "kind": "property", "scope": "setCurrentSession.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "ensureStubAuthInRedux", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^export function ensureStubAuthInRedux(seedFn) {$/", "language": "JavaScript", "kind": "function", "signature": "(seedFn)"}, {"_type": "tag", "name": "getCurrentRole", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^export function getCurrentRole() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getCurrentSession", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^export function getCurrentSession() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getRoleForEmail", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^export function getRoleForEmail(email) {$/", "language": "JavaScript", "kind": "function", "signature": "(email)"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^    name: session.name || 'Local User',$/", "language": "JavaScript", "kind": "property", "scope": "setCurrentSession.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "normalized", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^  const normalized = {$/", "language": "JavaScript", "kind": "class", "scope": "setCurrentSession", "scopeKind": "class"}, {"_type": "tag", "name": "parseJSON", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^function parseJSON(raw, fallback) {$/", "language": "JavaScript", "kind": "function", "signature": "(raw, fallback)"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^    role: String(session.role),$/", "language": "JavaScript", "kind": "property", "scope": "setCurrentSession.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "roleRegistry", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^  roleRegistry: 'auth_stub_roles',$/", "language": "JavaScript", "kind": "property", "scope": "LS_KEYS", "scopeKind": "class"}, {"_type": "tag", "name": "session", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^  session: 'auth_stub',$/", "language": "JavaScript", "kind": "property", "scope": "LS_KEYS", "scopeKind": "class"}, {"_type": "tag", "name": "setCurrentSession", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^export function setCurrentSession(session) {$/", "language": "JavaScript", "kind": "function", "signature": "(session)"}, {"_type": "tag", "name": "setRoleForEmail", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^export function setRoleForEmail(email, role) {$/", "language": "JavaScript", "kind": "function", "signature": "(email, role)"}], "hash": "ad40d6ac8bb0d4920abfa87cb940db1d", "format-version": 4, "code-base-name": "gym_manager_frontend", "filename": "gym_manager_frontend/src/lib/authStub.js", "fields": [{"name": "email: String(session.email),", "scope": "setCurrentSession.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "name: session.name || 'Local User',", "scope": "setCurrentSession.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "role: String(session.role),", "scope": "setCurrentSession.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "roleRegistry: 'auth_stub_roles',", "scope": "LS_KEYS", "scopeKind": "class", "description": "unavailable"}, {"name": "session: 'auth_stub',", "scope": "LS_KEYS", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"197": ""}]}