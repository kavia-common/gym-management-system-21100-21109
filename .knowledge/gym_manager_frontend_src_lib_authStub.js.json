{"is_source_file": true, "format": "JavaScript", "description": "This file implements a lightweight in-memory/localStorage-based authentication stub, providing minimal API functions to simulate authentication workflows for frontend components during development or testing.", "external_files": ["window.localStorage"], "external_methods": ["window.localStorage.getItem", "window.localStorage.setItem", "window.localStorage.removeItem"], "published": ["getCurrentSession", "setCurrentSession", "clearAuthStorage", "getRoleForEmail", "setRoleForEmail", "getUser", "getCurrentRole", "isAuthenticated", "hasRole", "login", "logout", "useAuth", "ensureStubAuthInRedux"], "classes": [], "methods": [{"name": "readJSON(key, fallback = null)", "description": "Helper to read and parse JSON data from localStorage with fallback.", "scope": "", "scopeKind": ""}, {"name": "writeJSON(key, val)", "description": "Helper to stringify and store JSON data in localStorage.", "scope": "", "scopeKind": ""}, {"name": "remove(key)", "description": "Helper to remove a key from localStorage.", "scope": "", "scopeKind": ""}, {"name": "getCurrentSession()", "description": "Returns the current stub session object from localStorage.", "scope": "", "scopeKind": ""}, {"name": "setCurrentSession(session)", "description": "Stores the session information in localStorage.", "scope": "", "scopeKind": ""}, {"name": "clearAuthStorage()", "description": "Removes session data from localStorage.", "scope": "", "scopeKind": ""}, {"name": "getRoleForEmail(email)", "description": "Retrieves stored role for a given email.", "scope": "", "scopeKind": ""}, {"name": "setRoleForEmail(email, role)", "description": "Stores role associated with a specific email.", "scope": "", "scopeKind": ""}, {"name": "getUser()", "description": "Derives user object from current session.", "scope": "", "scopeKind": ""}, {"name": "getCurrentRole()", "description": "Returns the role from the current session.", "scope": "", "scopeKind": ""}, {"name": "isAuthenticated()", "description": "Checks if a session exists indicating authentication.", "scope": "", "scopeKind": ""}, {"name": "hasRole(role)", "description": "Checks if current session role matches the specified role.", "scope": "", "scopeKind": ""}, {"name": "login(email, password)", "description": "Simulates a login, assigning role based on email content.", "scope": "", "scopeKind": ""}, {"name": "logout()", "description": "Simulates logout by clearing session data.", "scope": "", "scopeKind": ""}, {"name": "useAuth()", "description": "Provides minimal authentication info and helper functions similar to a React hook.", "scope": "", "scopeKind": ""}, {"name": "ensureStubAuthInRedux(seedFn)", "description": "Seeds Redux state with session info if a session is present.", "scope": "", "scopeKind": ""}], "calls": ["readJSON", "writeJSON", "remove"], "search-terms": ["authStub", "localStorage", "mock authentication", "frontend auth simulation", "stub session"], "state": 2, "file_id": 71, "knowledge_revision": 209, "git_revision": "", "ctags": [{"_type": "tag", "name": "EMAIL_ROLE_MAP", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^  EMAIL_ROLE_MAP: 'gm.auth.emailRoles', \\/\\/ { [email]: role }$/", "language": "JavaScript", "kind": "property", "scope": "LS_KEYS", "scopeKind": "class"}, {"_type": "tag", "name": "LS_KEYS", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^const LS_KEYS = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "SESSION", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^  SESSION: 'gm.auth.session',     \\/\\/ { email, role, name }$/", "language": "JavaScript", "kind": "property", "scope": "LS_KEYS", "scopeKind": "class"}, {"_type": "tag", "name": "clearAuthStorage", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^export function clearAuthStorage() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "ensureStubAuthInRedux", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^export function ensureStubAuthInRedux(seedFn) {$/", "language": "JavaScript", "kind": "function", "signature": "(seedFn)"}, {"_type": "tag", "name": "getCurrentRole", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^export function getCurrentRole() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getCurrentSession", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^export function getCurrentSession() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getRoleForEmail", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^export function getRoleForEmail(email) {$/", "language": "JavaScript", "kind": "function", "signature": "(email)"}, {"_type": "tag", "name": "getUser", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^export function getUser() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "hasRole", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^export function hasRole(role) {$/", "language": "JavaScript", "kind": "function", "signature": "(role)"}, {"_type": "tag", "name": "isAuthenticated", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^export function isAuthenticated() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^export async function login(email, password) {$/", "language": "JavaScript", "kind": "function", "signature": "(email, password)"}, {"_type": "tag", "name": "logout", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^export async function logout() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "readJSON", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^function readJSON(key, fallback = null) {$/", "language": "JavaScript", "kind": "function", "signature": "(key, fallback = null)"}, {"_type": "tag", "name": "remove", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^function remove(key) {$/", "language": "JavaScript", "kind": "function", "signature": "(key)"}, {"_type": "tag", "name": "setCurrentSession", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^export function setCurrentSession(session) {$/", "language": "JavaScript", "kind": "function", "signature": "(session)"}, {"_type": "tag", "name": "setRoleForEmail", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^export function setRoleForEmail(email, role) {$/", "language": "JavaScript", "kind": "function", "signature": "(email, role)"}, {"_type": "tag", "name": "useAuth", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^export function useAuth() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "writeJSON", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/authStub.js", "pattern": "/^function writeJSON(key, val) {$/", "language": "JavaScript", "kind": "function", "signature": "(key, val)"}], "hash": "4f0189c2c0826f33fc5685746db2c734", "format-version": 4, "code-base-name": "gym_manager_frontend", "filename": "gym_manager_frontend/src/lib/authStub.js", "fields": [{"name": "EMAIL_ROLE_MAP: 'gm.auth.emailRoles', \\/\\/ { [email]: role }", "scope": "LS_KEYS", "scopeKind": "class", "description": "unavailable"}, {"name": "SESSION: 'gm.auth.session',     \\/\\/ { email, role, name }", "scope": "LS_KEYS", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"209": ""}]}