{"is_source_file": true, "format": "JavaScript", "description": "This file provides helper functions and constants for interacting with a Supabase database, including table name mapping, environment validation, response handling, pagination calculations, query modifications, and a user profile fetch helper.", "external_files": ["../../lib/supabaseClient"], "external_methods": ["supabase.from", "supabaseClient", "import.meta.env", "process.env"], "published": ["supabase", "tableNames", "assertSupabaseReady", "handle", "paginate", "withCount", "getProfileById"], "classes": [], "methods": [{"name": "assertSupabaseReady()", "description": "Checks if the environment variables for Supabase URL and key are set, throws an error if not.", "scope": "", "scopeKind": ""}, {"name": "handle(result, context = 'operation')", "description": "Normalizes the result from a Supabase query, throwing an error if there was one, otherwise returning the data and count.", "scope": "", "scopeKind": ""}, {"name": "paginate({ page = 1, limit = 20 } = {})", "description": "Calculates range indices for pagination based on page and limit parameters, returning range info and metadata.", "scope": "", "scopeKind": ""}, {"name": "withCount(query)", "description": "Modifies a Supabase query to include an exact count of results, handling cases where the select method hasn't been called.", "scope": "", "scopeKind": ""}, {"name": "getProfileById(userId)", "description": "Fetches a user profile from the 'profiles' table based on user ID.", "scope": "", "scopeKind": ""}], "calls": ["supabase.from", "supabase.from(tableNames.profiles).select", "import.meta.env.VITE_SUPABASE_URL", "process.env.VITE_SUPABASE_URL", "import.meta.env.VITE_SUPABASE_ANON_KEY", "process.env.VITE_SUPABASE_ANON_KEY"], "search-terms": ["supabaseClient", "tableNames", "assertSupabaseReady", "handle", "paginate", "withCount", "getProfileById"], "state": 2, "file_id": 73, "knowledge_revision": 432, "git_revision": "2759e01ee403f422b916e9132e44108824f4b194", "revision_history": [{"223": ""}, {"397": "054342cff921bef275ee8abe4e7355e8046647a3"}, {"417": "054342cff921bef275ee8abe4e7355e8046647a3"}, {"432": "2759e01ee403f422b916e9132e44108824f4b194"}], "ctags": [{"_type": "tag", "name": "assertSupabaseReady", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/services/supabase/helpers.js", "pattern": "/^export function assertSupabaseReady() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "bookings", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/services/supabase/helpers.js", "pattern": "/^  bookings: 'bookings',$/", "language": "JavaScript", "kind": "property", "scope": "tableNames", "scopeKind": "class"}, {"_type": "tag", "name": "classes", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/services/supabase/helpers.js", "pattern": "/^  classes: 'classes',$/", "language": "JavaScript", "kind": "property", "scope": "tableNames", "scopeKind": "class"}, {"_type": "tag", "name": "getProfileById", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/services/supabase/helpers.js", "pattern": "/^export async function getProfileById(userId) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId)"}, {"_type": "tag", "name": "handle", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/services/supabase/helpers.js", "pattern": "/^export function handle(result, context = 'operation') {$/", "language": "JavaScript", "kind": "function", "signature": "(result, context = 'operation')"}, {"_type": "tag", "name": "members", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/services/supabase/helpers.js", "pattern": "/^  members: 'members',$/", "language": "JavaScript", "kind": "property", "scope": "tableNames", "scopeKind": "class"}, {"_type": "tag", "name": "paginate", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/services/supabase/helpers.js", "pattern": "/^export function paginate({ page = 1, limit = 20 } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ page = 1, limit = 20 } = {})"}, {"_type": "tag", "name": "payments", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/services/supabase/helpers.js", "pattern": "/^  payments: 'payments',$/", "language": "JavaScript", "kind": "property", "scope": "tableNames", "scopeKind": "class"}, {"_type": "tag", "name": "profiles", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/services/supabase/helpers.js", "pattern": "/^  profiles: 'profiles',$/", "language": "JavaScript", "kind": "property", "scope": "tableNames", "scopeKind": "class"}, {"_type": "tag", "name": "programs", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/services/supabase/helpers.js", "pattern": "/^  programs: 'programs',$/", "language": "JavaScript", "kind": "property", "scope": "tableNames", "scopeKind": "class"}, {"_type": "tag", "name": "tableNames", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/services/supabase/helpers.js", "pattern": "/^export const tableNames = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "trainers", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/services/supabase/helpers.js", "pattern": "/^  trainers: 'trainers',$/", "language": "JavaScript", "kind": "property", "scope": "tableNames", "scopeKind": "class"}, {"_type": "tag", "name": "withCount", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/services/supabase/helpers.js", "pattern": "/^export function withCount(query) {$/", "language": "JavaScript", "kind": "function", "signature": "(query)"}], "hash": "a0482813dabf38f1591a182c954253d2", "format-version": 4, "code-base-name": "gym_manager_frontend", "filename": "gym_manager_frontend/src/services/supabase/helpers.js", "fields": [{"name": "bookings: 'bookings',", "scope": "tableNames", "scopeKind": "class", "description": "unavailable"}, {"name": "classes: 'classes',", "scope": "tableNames", "scopeKind": "class", "description": "unavailable"}, {"name": "members: 'members',", "scope": "tableNames", "scopeKind": "class", "description": "unavailable"}, {"name": "payments: 'payments',", "scope": "tableNames", "scopeKind": "class", "description": "unavailable"}, {"name": "profiles: 'profiles',", "scope": "tableNames", "scopeKind": "class", "description": "unavailable"}, {"name": "programs: 'programs',", "scope": "tableNames", "scopeKind": "class", "description": "unavailable"}, {"name": "trainers: 'trainers',", "scope": "tableNames", "scopeKind": "class", "description": "unavailable"}]}