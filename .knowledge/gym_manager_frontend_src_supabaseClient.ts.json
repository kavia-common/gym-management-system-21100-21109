{"is_source_file": true, "format": "TypeScript", "description": "This file sets up and exports a Supabase client instance with environment-based configuration handling. It provides a real client when environment variables are set and a no-op mock client otherwise. It also includes logic for environment detection and logging.", "external_files": ["@supabase/supabase-js"], "external_methods": ["createClient", "SupabaseClient"], "published": ["getSupabaseClient", "supabase"], "classes": [], "methods": [{"name": "function createNoopSupabase(): SafeSupabase { createNoopSupabase", "description": "Creates a mock Supabase client with stubbed methods, used when environment variables are missing.", "scope": "", "scopeKind": ""}, {"name": "function resolveSupabaseEnv(): resolveSupabaseEnv", "description": "Determines Supabase configuration from environment variables, supporting different build tools and env sources.", "scope": "", "scopeKind": ""}, {"name": "export function getSupabaseClient(): SafeSupabase { getSupabaseClient", "description": "Returns the initialized Supabase client, real or no-op.", "scope": "", "scopeKind": ""}], "calls": ["createClient(resolved.url, resolved.key)", "console.info", "console.warn"], "search-terms": ["supabase client initialization", "environment variable resolution", "TypeScript mock client", "supabase-js import"], "state": 2, "file_id": 117, "knowledge_revision": 456, "git_revision": "7c9e687d9af0914a9e28f3b64527b5e05a9ba62e", "revision_history": [{"428": ""}, {"436": "2759e01ee403f422b916e9132e44108824f4b194"}, {"444": "2759e01ee403f422b916e9132e44108824f4b194"}, {"447": "2759e01ee403f422b916e9132e44108824f4b194"}, {"456": "7c9e687d9af0914a9e28f3b64527b5e05a9ba62e"}], "ctags": [{"_type": "tag", "name": "SafeSupabase", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/supabaseClient.ts", "pattern": "/^type SafeSupabase = SupabaseClient & { __noop?: boolean };$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "client", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/supabaseClient.ts", "pattern": "/^  const client: SafeSupabase = {$/", "language": "TypeScript", "kind": "constant", "scope": "createNoopSupabase", "scopeKind": "function"}, {"_type": "tag", "name": "craKey", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/supabaseClient.ts", "pattern": "/^  const craKey = typeof process !== 'undefined' ? (process.env as any)?.REACT_APP_SUPABASE_ANON_/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "craUrl", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/supabaseClient.ts", "pattern": "/^  const craUrl = typeof process !== 'undefined' ? (process.env as any)?.REACT_APP_SUPABASE_URL :/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "createNoopSupabase", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/supabaseClient.ts", "pattern": "/^function createNoopSupabase(): SafeSupabase {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getSupabaseClient", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/supabaseClient.ts", "pattern": "/^export function getSupabaseClient(): SafeSupabase {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getUser", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/supabaseClient.ts", "pattern": "/^      getUser: noop,$/", "language": "TypeScript", "kind": "constant", "scope": "createNoopSupabase", "scopeKind": "function"}, {"_type": "tag", "name": "hasLoggedSource", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/supabaseClient.ts", "pattern": "/^let hasLoggedSource = false;$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "noop", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/supabaseClient.ts", "pattern": "/^  const noop = async (..._args: any[]) => ({ data: null, error: null } as any);$/", "language": "TypeScript", "kind": "constant", "scope": "createNoopSupabase", "scopeKind": "function"}, {"_type": "tag", "name": "onAuthStateChange", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/supabaseClient.ts", "pattern": "/^      onAuthStateChange: (_cb: any) => ({ data: { subscription: subNoop } } as any),$/", "language": "TypeScript", "kind": "constant", "scope": "createNoopSupabase", "scopeKind": "function"}, {"_type": "tag", "name": "rawKey", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/supabaseClient.ts", "pattern": "/^  const rawKey = typeof process !== 'undefined' ? (process.env as any)?.SUPABASE_ANON_KEY : unde/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "rawUrl", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/supabaseClient.ts", "pattern": "/^  const rawUrl = typeof process !== 'undefined' ? (process.env as any)?.SUPABASE_URL : undefined/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "resetPasswordForEmail", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/supabaseClient.ts", "pattern": "/^      resetPasswordForEmail: noop,$/", "language": "TypeScript", "kind": "constant", "scope": "createNoopSupabase", "scopeKind": "function"}, {"_type": "tag", "name": "resolveSupabaseEnv", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/supabaseClient.ts", "pattern": "/^function resolveSupabaseEnv():$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "resolved", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/supabaseClient.ts", "pattern": "/^const resolved = resolveSupabaseEnv();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "signInWithPassword", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/supabaseClient.ts", "pattern": "/^      signInWithPassword: noop,$/", "language": "TypeScript", "kind": "constant", "scope": "createNoopSupabase", "scopeKind": "function"}, {"_type": "tag", "name": "signOut", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/supabaseClient.ts", "pattern": "/^      signOut: noop,$/", "language": "TypeScript", "kind": "constant", "scope": "createNoopSupabase", "scopeKind": "function"}, {"_type": "tag", "name": "signUp", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/supabaseClient.ts", "pattern": "/^      signUp: noop,$/", "language": "TypeScript", "kind": "constant", "scope": "createNoopSupabase", "scopeKind": "function"}, {"_type": "tag", "name": "subNoop", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/supabaseClient.ts", "pattern": "/^  const subNoop = { unsubscribe: () => {} };$/", "language": "TypeScript", "kind": "constant", "scope": "createNoopSupabase", "scopeKind": "function"}, {"_type": "tag", "name": "supabase", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/supabaseClient.ts", "pattern": "/^let supabase: SafeSupabase;$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "updateUser", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/supabaseClient.ts", "pattern": "/^      updateUser: noop,$/", "language": "TypeScript", "kind": "constant", "scope": "createNoopSupabase", "scopeKind": "function"}, {"_type": "tag", "name": "viteKey", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/supabaseClient.ts", "pattern": "/^  const viteKey = (typeof import.meta !== 'undefined' && (import.meta as any)?.env?.VITE_SUPABAS/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "viteUrl", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/supabaseClient.ts", "pattern": "/^  const viteUrl = (typeof import.meta !== 'undefined' && (import.meta as any)?.env?.VITE_SUPABAS/", "language": "TypeScript", "kind": "constant"}], "hash": "fb78789762ed883eb2f1aec35c2a0815", "format-version": 4, "code-base-name": "gym_manager_frontend", "filename": "gym_manager_frontend/src/supabaseClient.ts", "fields": [{"name": "let hasLoggedSource = false;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "let supabase: SafeSupabase;", "scope": "", "scopeKind": "", "description": "unavailable"}]}