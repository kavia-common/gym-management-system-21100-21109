{"is_source_file": true, "format": "TypeScript", "description": "This file is a TypeScript source file that defines and initializes a Supabase client for a frontend project, including environment-based configuration resolution, a no-op fallback client, and utility functions to access the client and session.", "external_files": ["@supabase/supabase-js"], "external_methods": ["createClient", "SupabaseClient"], "published": ["getSupabaseClient", "getCurrentSession", "supabase"], "classes": [], "methods": [{"name": "function createNoopSupabase(): SafeSupabase { createNoopSupabase", "description": "Creates a mock Supabase client that provides no-op implementations for its methods, used when environment variables are missing.", "scope": "", "scopeKind": ""}, {"name": "function resolveSupabaseEnv(): resolveSupabaseEnv", "description": "Resolves Supabase configuration from environment variables, prioritizing CRA, Vite, then unprefixed variables.", "scope": "", "scopeKind": ""}, {"name": "export function getSupabaseClient(): SafeSupabase { getSupabaseClient", "description": "Returns the initialized Supabase client, real or no-op fallback.", "scope": "", "scopeKind": ""}, {"name": "export async function getCurrentSession() { getCurrentSession", "description": "Asynchronously retrieves the current authenticated session from the Supabase client, returning null if unavailable.", "scope": "", "scopeKind": ""}], "calls": ["createClient", "supabase.auth.getSession"], "search-terms": ["supabaseClient", "supabase env resolution", "no-op Supabase client", "session retrieval", "initialization source"], "state": 2, "file_id": 114, "knowledge_revision": 452, "git_revision": "", "revision_history": [{"414": ""}, {"434": ""}, {"442": ""}, {"445": ""}, {"448": ""}, {"452": ""}], "ctags": [{"_type": "tag", "name": "SafeSupabase", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^type SafeSupabase = SupabaseClient & { __noop?: boolean };$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "client", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^  const client: SafeSupabase = {$/", "language": "TypeScript", "kind": "constant", "scope": "createNoopSupabase", "scopeKind": "function"}, {"_type": "tag", "name": "craKey", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^  const craKey = typeof process !== 'undefined' ? (process.env as any)?.REACT_APP_SUPABASE_ANON_/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "craUrl", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^  const craUrl = typeof process !== 'undefined' ? (process.env as any)?.REACT_APP_SUPABASE_URL :/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "createNoopSupabase", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^function createNoopSupabase(): SafeSupabase {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^    const { data } = await supabase.auth.getSession();$/", "language": "TypeScript", "kind": "constant", "scope": "getCurrentSession", "scopeKind": "function"}, {"_type": "tag", "name": "getCurrentSession", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^export async function getCurrentSession() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getSupabaseClient", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^export function getSupabaseClient(): SafeSupabase {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getUser", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^      getUser: noop,$/", "language": "TypeScript", "kind": "constant", "scope": "createNoopSupabase", "scopeKind": "function"}, {"_type": "tag", "name": "hasLoggedSource", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^let hasLoggedSource = false;$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "noop", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^  const noop = async (..._args: any[]) => ({ data: null, error: null } as any);$/", "language": "TypeScript", "kind": "constant", "scope": "createNoopSupabase", "scopeKind": "function"}, {"_type": "tag", "name": "onAuthStateChange", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^      onAuthStateChange: (_cb: any) => ({ data: { subscription: subNoop } } as any),$/", "language": "TypeScript", "kind": "constant", "scope": "createNoopSupabase", "scopeKind": "function"}, {"_type": "tag", "name": "rawKey", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^  const rawKey = typeof process !== 'undefined' ? (process.env as any)?.SUPABASE_ANON_KEY : unde/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "rawUrl", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^  const rawUrl = typeof process !== 'undefined' ? (process.env as any)?.SUPABASE_URL : undefined/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "resetPasswordForEmail", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^      resetPasswordForEmail: noop,$/", "language": "TypeScript", "kind": "constant", "scope": "createNoopSupabase", "scopeKind": "function"}, {"_type": "tag", "name": "resolveSupabaseEnv", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^function resolveSupabaseEnv():$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "resolved", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^const resolved = resolveSupabaseEnv();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "signInWithPassword", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^      signInWithPassword: noop,$/", "language": "TypeScript", "kind": "constant", "scope": "createNoopSupabase", "scopeKind": "function"}, {"_type": "tag", "name": "signOut", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^      signOut: noop,$/", "language": "TypeScript", "kind": "constant", "scope": "createNoopSupabase", "scopeKind": "function"}, {"_type": "tag", "name": "signUp", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^      signUp: noop,$/", "language": "TypeScript", "kind": "constant", "scope": "createNoopSupabase", "scopeKind": "function"}, {"_type": "tag", "name": "subNoop", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^  const subNoop = { unsubscribe: () => {} };$/", "language": "TypeScript", "kind": "constant", "scope": "createNoopSupabase", "scopeKind": "function"}, {"_type": "tag", "name": "supabase", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^let supabase: SafeSupabase;$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "updateUser", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^      updateUser: noop,$/", "language": "TypeScript", "kind": "constant", "scope": "createNoopSupabase", "scopeKind": "function"}, {"_type": "tag", "name": "viteKey", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^  const viteKey = (typeof import.meta !== 'undefined' && (import.meta as any)?.env?.VITE_SUPABAS/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "viteUrl", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^  const viteUrl = (typeof import.meta !== 'undefined' && (import.meta as any)?.env?.VITE_SUPABAS/", "language": "TypeScript", "kind": "constant"}], "hash": "4077e79fe0f84202e7b7ccc5b86c479c", "format-version": 4, "code-base-name": "gym_manager_frontend", "filename": "gym_manager_frontend/src/lib/supabaseClient.ts", "fields": [{"name": "let hasLoggedSource = false;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "let supabase: SafeSupabase;", "scope": "", "scopeKind": "", "description": "unavailable"}]}