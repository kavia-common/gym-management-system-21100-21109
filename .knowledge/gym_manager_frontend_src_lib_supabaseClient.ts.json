{"is_source_file": true, "format": "TypeScript", "description": "This file provides a client setup and interface for interacting with Supabase. It includes functions to resolve environment variables (supporting both Vite and CRA patterns), validate configuration, create a singleton Supabase client, and expose utility functions for environment info and session management.", "external_files": ["@supabase/supabase-js"], "external_methods": ["createClient", "SupabaseClient"], "published": ["supabase", "__supabaseEnvPresence", "__supabaseEnvSource", "getSupabaseEnvInfo", "getSupabase", "getCurrentSession"], "classes": [], "methods": [{"name": "function resolveEnv(): { url?: string; key?: string; source: 'vite' | 'cra' | 'unknown' } { resolveEnv", "description": "Resolves Supabase URL and Anon Key from environment variables supporting both Vite and CRA conventions.", "scope": "", "scopeKind": ""}, {"name": "function validateEnv(url?: string, key?: string) { validateEnv", "description": "Provides warnings if critical environment variables (URL or Key) are missing.", "scope": "", "scopeKind": ""}, {"name": "export function getSupabaseEnvInfo(): { hasConfig: boolean; source: 'vite' | 'cra' | 'unknown' }/ getSupabaseEnvInfo", "description": "Returns info about environment configuration detection, including whether valid config exists and the source type.", "scope": "", "scopeKind": ""}, {"name": "export async function getCurrentSession() { getCurrentSession", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "export function getSupabase(): SupabaseClient { getSupabase", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["createClient", "resolveEnv", "validateEnv", "supabase.auth.getSession"], "search-terms": ["supabase client singleton", "environment variable resolution", "Supabase URL and Key detection", "session management", "environment source detection"], "state": 2, "file_id": 121, "knowledge_revision": 524, "git_revision": "", "revision_history": [{"515": ""}, {"522": ""}, {"523": ""}, {"524": ""}], "ctags": [{"_type": "tag", "name": "SupabaseClient", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^import { createClient, type SupabaseClient } from '@supabase\\/supabase-js';$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "__supabaseEnvPresence", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^export const __supabaseEnvPresence: boolean = (() => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "__supabaseEnvSource", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^export const __supabaseEnvSource: 'vite' | 'cra' | 'unknown' = (() => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "craKey", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^  const craKey = typeof process !== 'undefined' ? (process.env as any)?.REACT_APP_SUPABASE_ANON_/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "craUrl", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^  const craUrl = typeof process !== 'undefined' ? (process.env as any)?.REACT_APP_SUPABASE_URL a/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^  const { data, error } = await supabase.auth.getSession();$/", "language": "TypeScript", "kind": "constant", "scope": "getCurrentSession", "scopeKind": "function"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^  const { data, error } = await supabase.auth.getSession();$/", "language": "TypeScript", "kind": "constant", "scope": "getCurrentSession", "scopeKind": "function"}, {"_type": "tag", "name": "getCurrentSession", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^export async function getCurrentSession() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getSupabase", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^export function getSupabase(): SupabaseClient {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getSupabaseEnvInfo", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^export function getSupabaseEnvInfo(): { hasConfig: boolean; source: 'vite' | 'cra' | 'unknown' }/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "key", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^  const { url, key, source } = resolveEnv();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "missing", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^  const missing = [];$/", "language": "TypeScript", "kind": "constant", "scope": "validateEnv", "scopeKind": "function"}, {"_type": "tag", "name": "resolveEnv", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^function resolveEnv(): { url?: string; key?: string; source: 'vite' | 'cra' | 'unknown' } {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "source", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^  const { url, key, source } = resolveEnv();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "supabase", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^export const supabase: SupabaseClient = (() => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^  const { url, key, source } = resolveEnv();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "validateEnv", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^function validateEnv(url?: string, key?: string) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "viteEnv", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^  const viteEnv = (typeof import.meta !== 'undefined' && (import.meta as any).env) ? (import.met/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "viteKey", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^  const viteKey = viteEnv?.VITE_SUPABASE_ANON_KEY as string | undefined;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "viteUrl", "path": "/home/kavia/workspace/code-generation/gym-management-system-21100-21109/gym_manager_frontend/src/lib/supabaseClient.ts", "pattern": "/^  const viteUrl = viteEnv?.VITE_SUPABASE_URL as string | undefined;$/", "language": "TypeScript", "kind": "constant"}], "hash": "76b561868f2788bf3b1a9db5fb8c7415", "format-version": 4, "code-base-name": "gym_manager_frontend", "filename": "gym_manager_frontend/src/lib/supabaseClient.ts"}